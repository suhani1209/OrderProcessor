<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@taglib prefix="form" uri="http://www.springframework.org/tags/form"%>
<%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Orders</title>
</head>
<body>
<a href="/home">Home</a>
	${userid }
	<input type="text" id="myInput" onkeyup="myFunction()" 
	placeholder="Search by order number .." title="Enter order number">
	<table>
		<thead>
			<tr>
				<th>Order Id</th>
				<th>Order Status</th>
				<th>Order Date</th>
				<th>Order Time</th>
				<th>user </th>
				<th>Update</th>
				<th>Delete</th>
			</tr>
		</thead>


		<c:forEach items="${orders}" var="order">
			<c:if test="${order.status != 'DELETED' }">
			<tr>
				<td>${order.orderId}</td>
				<td>${order.status}</td>
				<td>${order.getDate()}</td>
				<td>${order.getTime()}</td>
				<td>${order.user.id}</td>
				<td><a href="/orders/${userid }/update/${order.orderId}">Update</a></td>
				<td><a href="/orders/${userid }/delete/${order.orderId}">Delete</a></td>
				<td><a href="/orders/${userid }/view/${order.orderId}">view order</a></td>
			</tr>
			</c:if>
		</c:forEach>
	</table>
	
	<script>
function myFunction() {
    var input, filter, ul, li, a, i, txtValue;
    input = document.getElementById("myInput");
    filter = input.value.toUpperCase();
    ul = document.getElementById("myUL");
    li = ul.getElementsByTagName("li");
    for (i = 0; i < li.length; i++) {
        a = li[i].getElementsByTagName("a")[0];
        txtValue = a.textContent || a.innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
            li[i].style.display = "";
        } else {
            li[i].style.display = "none";
        }
    }
}
</script>
</body>
</html>